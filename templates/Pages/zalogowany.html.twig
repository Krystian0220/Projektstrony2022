{% extends 'base.html.twig' %}
{% block body %}
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Infonews</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>

<body onload="wyswietl()">

<div class="container-fluid p-5 bg-dark text-white text-center">
    <h1>INFONEWS</h1>
    <p>Witaj ponownie!</p>
</div>
<div class="container mt-5 h-100">
    <a href="{{ path('app_homepage') }}"><button type="button" class="btn btn-dark ">Strona główna</button></a>
    <a href="wyloguj.php"><button type="button" class="btn btn-dark">Wyloguj</button></a>
    <a href="{{ path('app_add') }}"><button type="button" class="btn btn-dark">Dodaj</button></a>


</div>

<div class="container mt-5 h-100">
    <div class="row">
        <div class="col-md-4 text-white ">
            <h3>Zarządzaj danymi</h3>
            <form action="/action_page.php">

                <div class="mb-3 mt-3">
                    <label for="pwd" class="form-label">Login</label>
                    <input type="text" class="form-control" placeholder="Login">
                </div>
                <div class="mb-3">
                    <label for="pwd" class="form-label">Hasło</label>
                    <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="pswd">
                </div>


                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>

        <div class="col-md-8 text-white">
            <div class="row">


                <h2 class="center">Twoje wpisy</h2>
                <table class="table text-white">
                    <thead >
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col" class="col-md-10 text-center">Treść</th>
                        <th scope="col" class="col-md-1 p-4 text-center" ></th>
                        <th scope="col" class="col-md-1 p-2" >Akcja</th>

                    </tr>
                    </thead>
                    {% block action %}
                    <table id="demo" class="table table-bordered table-sm text-white" >
                        {% for article in articles  %}
                            <tr>
                            <td><span>{{ article.id }}</span></td>
                                <td>{{ article.content }}</td>
                                <td><a href="{{ url('app_delete', { id: article.id }) }}"><span class='material-icons'><button>Accept</button></span></a></td>
                            <td name="article.content"><a href="{{ path('app_edit', { id: article.id, content: article.content } ) }}" ><span class='material-icons' ><span name="{{ article.content }}">edit</span></span></a><span class='material-icons'></span></td>
                        </tr>
                        {% endfor %}
                        {% endblock %}
                    </table>

                    <tbody>

                    <br><br>





                    <script type="text/javascript">//function wyswietl() {var xmlhttp = new XMLHttpRequest();xmlhttp.onreadystatechange = function() {if (xmlhttp.readyState == XMLHttpRequest.DONE) {   // XMLHttpRequest.DONE == 4
                      //              if (xmlhttp.status == 200) {
                          //              document.getElementById("demo").innerHTML = xmlhttp.responseText;
                        //            }
                       //             else if (xmlhttp.status == 400) {
                         //               alert('There was an error 400');
                           //         }
                             //       else {
                               //         alert('something else other than 200 was returned');
                                 //   }
                               // }
                           // };
                  </script>
{% endblock %}